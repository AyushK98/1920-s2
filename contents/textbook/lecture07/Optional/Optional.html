<!DOCTYPE html>
<html>

<head>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="MarkBind 2.13.0">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>CS2030 AY19/20 Semester 2</title>
  <link rel="stylesheet" href="../../../../markbind/css/bootstrap.min.css">
  <link rel="stylesheet" href="../../../../markbind/css/bootstrap-vue.min.css">
  <link rel="stylesheet" href="../../../../markbind/fontawesome/css/all.min.css">
  <link rel="stylesheet" href="../../../../markbind/glyphicons/css/bootstrap-glyphicons.min.css">
  <link rel="stylesheet" href="../../../../markbind/css/octicons.css">
  <link rel="stylesheet" href="../../../../markbind/css/github.min.css">
  <link rel="stylesheet" href="../../../../markbind/css/markbind.css">
  <link rel="stylesheet" href="../../../../markbind/layouts/default/styles.css">
  <link rel="stylesheet" href="../../../../markbind/css/page-nav.css">
</head>

<body data-spy="scroll" data-target="#page-nav" data-offset="100">
  <div id="app">
    <header>
      <navbar type="dark" class="temp-navbar">
        <a slot="brand" href="/1920-s2/index.html" title="Home" class="navbar-brand">CS2030 AY19/20 Semester 2</a>
        <div class="nav-link temp-dropdown-placeholder">Peer Learning</div>
        <dropdown class="nav-link temp-dropdown"><template slot="_header">Peer Learning</template>
          <li><a href="/1920-s2/contents/peerlearning/peerlearning.html" class="dropdown-item">Introduction</a></li>
          <li><a href="/1920-s2/contents/peerlearning/textbook.html" class="dropdown-item">Textbook Contributions</a></li>
          <li><a href="/1920-s2/contents/peerlearning/peerlearningtask.html" class="dropdown-item">Peer Learning Tasks</a></li>
          <li><a href="/1920-s2/contents/peerlearning/piazza.html" class="dropdown-item">Piazza Participation</a></li>
        </dropdown>
        <div class="nav-link temp-dropdown-placeholder">Guides</div>
        <dropdown class="nav-link temp-dropdown"><template slot="_header">Guides</template>
          <li><a href="/1920-s2/contents/guides/settingUpLabEnv.html" class="dropdown-item">Setting Up Lab Environment</a></li>
          <li><a href="/1920-s2/contents/guides/settingUpJava.html" class="dropdown-item">Setting Up Java</a></li>
          <li><a href="/1920-s2/contents/guides/settingUpVim.html" class="dropdown-item">Setting Up Vim</a></li>
          <li><a href="/1920-s2/contents/guides/settingUpMacVim.html" class="dropdown-item">Setting Up MacVim</a></li>
          <li><a href="/1920-s2/contents/guides/sunfireLabs.html" class="dropdown-item">Setting Up Sunfire and PE Nodes</a></li>
          <li><a href="/1920-s2/contents/guides/settingUpCheckstyle.html" class="dropdown-item">Setting Up Checkstyle</a></li>
        </dropdown>
        <li><a slot="brand" href="/1920-s2/contents/textbook/textbook.html" class="nav-link">Textbook</a></li>
        <div class="nav-link temp-dropdown-placeholder">Links</div>
        <dropdown class="nav-link temp-dropdown"><template slot="_header">Links</template>
          <li><a href="https://www.comp.nus.edu.sg/~cs2030/style/" class="dropdown-item" target="_blank">CS2030 Java Style Guide</a></li>
          <li><a href="https://www.comp.nus.edu.sg/~cs2030/javadoc/" class="dropdown-item" target="_blank">CS2030 Javadoc Specification</a></li>
          <li><a href="https://www.oracle.com/technetwork/java/javase/downloads/jdk11-downloads-5066655.html" class="dropdown-item" target="_blank">JDK 11 Download Link</a></li>
          <li><a href="https://codecrunch.comp.nus.edu.sg/" class="dropdown-item" target="_blank">Codecrunch</a></li>
          <li><a href="https://github.com/nus-cs2030/1920-s2" class="dropdown-item" target="_blank">Github Repo</a></li>
          <li><a href="https://piazza.com/class/k54zo22zq1t2zc" class="dropdown-item" target="_blank">Piazza Forum</a></li>
        </dropdown>
        <li slot="right">
          <form class="navbar-form">
            <searchbar :data="searchData" placeholder="Search" :on-hit="searchCallback" menu-align-right></searchbar>
          </form>
        </li>
      </navbar>
    </header>
    <div id="flex-body">
      <div id="content-wrapper">
        <br>
        <h1 id="no-more-null">No more Null<a class="fa fa-anchor" href="#no-more-null"></a></h1>
        <hr>

        <p><a href="https://github.com/nus-cs2030/1920-s2/edit/master/contents/textbook/lecture07/Optional/Optional.md">Edit the material here! <span aria-hidden="true" class="fas fa-pen"></span></a></p>

        <p>In lecture 7, we learn about the maybe class and using optional to hide the null and alse make the code more elegant by removing the need to check for null using if and else.</p>
        <p>In the lecture notes:</p>
        <pre><code class="hljs"><span>public class Maybe&lt;T&gt; {</span><span>  private final T thing;</span><span>  </span><span>  private Maybe() {</span><span>    thing = null;</span><span>  }</span><span>  </span><span>  public Maybe(T thing) {</span><span>    this.thing = thing;</span><span>  }</span><span>  </span><span>  public static &lt;T&gt; Maybe&lt;T&gt; empty() {</span><span>    return new Maybe&lt;T&gt;();</span><span>  }</span><span>  </span><span>  @Override</span><span>  public String toString() {</span><span>    return &quot;Maybe[&quot; + (thing == null ? &quot;empty&quot; : thing) + &quot;]&quot;;</span><span>  }</span><span>}</span></code></pre>
        <p>Instead of creating Maybe class, we can use java Optional class. When there is a null, the optional class will just contain the null like a box.</p>
        <p>Some useful methods include: 1.of(T value) Putting the value in Optional</p>
        <p>2.empty() returning an Optional of empty</p>
        <p>3.ofNullable(T value) Returns an Optional containing the value if not null. Else, returns Optional that is empty.</p>
        <p>4.<code>flatMap(Function&lt;? super T,? extends Optional&lt;? extends U&gt;&gt; mapper)</code> Let's say you have a optional object in a optional object. flatMap is useful when you you want to get rid of the outer Optional casing of a Optional
          and inner optional, apply a given function, and putting it back into a Optional. The null will be passed on in the flatMap too and we do not need to check for null in every step.</p>
        <p>5.<code>map(Function&lt;? super T, ? extends U&gt; mapper)</code> Map just takes the value in one optional casing and apply the function and returns the Optional of the applied value.</p>
        <p>6.orElseThrow() for throwing NoSuchElementException</p>
        <p>7.<code>ifPresentOrElse(Consumer&lt;? super T&gt; action, Runnable emptyAction)</code> if value is present in the Optional, apply the action. or else perform the empty action. For example:</p>
        <pre><code class="hljs"><span>//from recitation screencast of lab 6:</span><span>Student addModule(String code, String name, String grade) {</span><span>  this.get(code)</span><span>    .ifPresentOrElse(</span><span>      m -&gt; m.addAssessment(name, grade),</span><span>      () -&gt; this.put(new Module(code).addAssessment(name,grade)</span><span>      );</span><span>  return this;</span><span>}</span></code></pre>
        <p>Example of the usage of methods of Optional class as shown in Lab 6 Roster class (adapted from the recitation screencast):</p>
        <pre><code class="hljs"><span>String getGrade(String id, String code, String name) throws NoSuchRecordException {</span><span>  return this.get(id)</span><span>    .flatMap(Student -&gt; student.get(code))</span><span>    .flatMap(module -&gt; module.get(name))</span><span>    .orElseThrow(() -&gt; new NoSuchRecordException(id, code, name))</span><span>    .getGrade();</span><span>}</span></code></pre>
        <p>Note: Avoid using methods such as get because it might invoke a NullPointerException. Also, do not use isPresent, isEmpty as it is equivalent of checking for null and it defeats the purpose of using the optional class.</p>
      </div>
      <nav id="page-nav" class="navbar navbar-light bg-transparent">
        <div class="border-left-grey nav-inner position-sticky slim-scroll">

          <nav class="nav nav-pills flex-column my-0 small no-flex-wrap">
            <a class="nav-link py-1" href="#no-more-null">No more Null&#x200E;</a>

          </nav>
        </div>
      </nav>
    </div>
    <footer>

      <div class="text-center">
        <small>Generated by <a href="https://markbind.org/">MarkBind 2.13.0</a> on Mon, Mar 30, 2020, 1:37:56 AM UTC</small></div>
    </footer>
  </div>
</body>
<script src="../../../../markbind/js/vue.min.js"></script>
<script src="../../../../markbind/js/vue-strap.min.js"></script>
<script src="../../../../markbind/js/bootstrap-utility.min.js"></script>
<script src="../../../../markbind/js/polyfill.min.js"></script>
<script src="../../../../markbind/js/bootstrap-vue.min.js"></script>
<script>
  const baseUrl = '/1920-s2'
  const enableSearch = true
</script>
<script src="../../../../markbind/js/setup.js"></script>
<script src="../../../../markbind/layouts/default/scripts.js"></script>

</html>